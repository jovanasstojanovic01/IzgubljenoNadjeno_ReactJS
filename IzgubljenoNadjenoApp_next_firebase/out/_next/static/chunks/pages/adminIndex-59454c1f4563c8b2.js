(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[243],{2404:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/adminIndex",function(){return s(9171)}])},2244:function(e,a){"use strict";a.Z={src:"/_next/static/media/inLogo.4e4eba85.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAZlBMVEX////+/v79/f79/f35+fn49/jy8vPy8vLv7+/t7e3t7O3n6Ofj3Oja19vc0OPYz93TydjJycrJycnOwtTLudSxsbGvkb6rkLmcarOAgn57f3mGc5GINqVjSm9SPFyCAKGAAKAAAACz+cGqAAAAPUlEQVR42mNgYGRmZmZiZGAAIiAAUZzcvCJ8PEC2oKScgowwkCGkKCshzw9kiEpJi4sJABkc7FxsLKwIXQBL4wI9c3jU0QAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},8858:function(e,a,s){"use strict";s.d(a,{I8:function(){return o},db:function(){return d},tO:function(){return r}}),s(8522),s(6282);var i=s(3977),n=s(9828),t=s(6650),c=s(1259);let l=(0,i.ZF)({apiKey:"AIzaSyDyQbX29X8S4-Jo18zodrggGP9uSTTKc2g",authDomain:"izgubljenonadjeno-jjm.firebaseapp.com",databaseURL:"https://izgubljenonadjeno-jjm-default-rtdb.europe-west1.firebasedatabase.app",projectId:"izgubljenonadjeno-jjm",storageBucket:"izgubljenonadjeno-jjm.appspot.com",messagingSenderId:"905472938324",appId:"1:905472938324:web:d5f91bebea86f6c73c78c1",measurementId:"G-KZNREYKWL5"}),d=(0,n.ad)(l),r=(0,t.cF)(),o=(0,c.v0)(l)},9171:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return K}});var i=s(5893),n=s(3988),t=s(9458),c=s(3233),l=s(1671),d=s.n(l),r=s(2244),o=s(5675),m=s.n(o),u=s(7294);function h(e){let{text:a,Icon:s}=e;return(0,i.jsxs)("div",{className:d().MenuItem,children:[(0,i.jsx)(s,{className:d().Icon}),(0,i.jsx)("label",{className:d().nestani+" "+d().MenuItemLabel,children:(0,i.jsx)("span",{children:a})})]})}var g=s(9828),j=s(5430),_=s(3148);_.kL.register(..._.zX);let x=e=>{let{segment1Value:a,segment2Value:s}=e;return(0,i.jsx)("div",{className:d().pita,children:(0,i.jsx)(j.by,{width:"200px",height:"300px",data:{labels:["Pronalazaci","Posetioci"],datasets:[{data:[a,s],backgroundColor:["#8D3BAA","#8c3baa5f"]}]},options:{responsive:!0,maintainAspectRatio:!1}})})},v=async(e,a)=>{let s=(0,g.ad)(),i=(0,g.hJ)(s,e),n=await (0,g.PL)(i),t=new Set;return n.forEach(e=>{let s=e.get(a),i=s?s.id:null;i&&t.add(i)}),t.size},p=async e=>{let a=(0,g.ad)(),s=(0,g.hJ)(a,e),i=await (0,g.PL)(s);return i.size},b=()=>{let[e,a]=(0,u.useState)(0),[s,n]=(0,u.useState)(0),[t,c]=(0,u.useState)(0),[l,d]=(0,u.useState)(0),[r,o]=(0,u.useState)(0);return(0,u.useEffect)(()=>{let e=async()=>{let e=await v("postovi","vlasnik");a(e);let s=await p("postovi");n(s);let i=await p("users");o(i),c(e/i*100),d((i-e)/i*100)};e()},[]),(0,i.jsx)("div",{children:(0,i.jsx)(x,{segment1Value:t,segment2Value:l})})};var f=s(8887);_.kL.register(..._.zX);let k=async()=>{let e=new Date("2023-05-07"),a=new Date,s=[],i=[],n=(0,f.IH)(),t=new Date(e);for(;t<=a;){A(t),(0,f.Kz)(n,"user_engagement",{screen_name:"Naziv ekrana",engagement_time_msec:5e3});let e=Math.floor(10*Math.random());s.push(e);let a=new Date(t);a.setDate(a.getDate()-6),i.push(A(a)),t.setDate(t.getDate()+7)}return{engagementData:s,labels:i}},A=e=>{let a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return"".concat(a,"-").concat(s,"-").concat(i)},N=()=>{let[e,a]=(0,u.useState)([]);return(0,u.useEffect)(()=>{let e=async()=>{let e=await k();a(e)};e()},[]),(0,i.jsx)("div",{children:(0,i.jsx)(j.x1,{width:"600px",height:"300px",data:{labels:e.labels,datasets:[{label:"Aktivnost korisnika",data:e.engagementData,backgroundColor:"#8c3baa5f",borderColor:"#8D3BAA",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0,ticks:{stepSize:1},max:10}}}})})};function w(){return(0,i.jsxs)("div",{className:d().grafikoni,children:[(0,i.jsx)(N,{}),(0,i.jsx)(b,{})]})}var I=s(1664),S=s.n(I),z=s(5287);function y(e){let{slikaKorisnika:a,setKorisnici:s,setOglasi:l,setGrafike:o}=e;return(0,i.jsxs)("div",{className:d().adminovaKartica,children:[(0,i.jsx)("div",{className:d().sidebarLogo,children:(0,i.jsx)(m(),{style:{borderRadius:"50%",margin:"0"},width:"70",height:"70",alt:"",src:r.Z})}),(0,i.jsxs)("div",{className:d().Menu,children:[(0,i.jsx)("div",{style:{padding:"0",margin:"0"},onClick:function(){s(!1),l(!1),o(!0)},children:(0,i.jsx)(h,{text:"Statistika",Icon:n.Z})}),(0,i.jsx)("div",{style:{padding:"0",margin:"0"},onClick:function(){s(!1),l(!0),o(!1)},children:(0,i.jsx)(h,{text:"Oglasi",Icon:t.Z})}),(0,i.jsx)("div",{style:{padding:"0",margin:"0"},onClick:function(){s(!0),l(!1),o(!1)},children:(0,i.jsx)(h,{text:"Korisnici",Icon:c.Z})}),(0,i.jsx)(S(),{href:"/",style:{"text-decoration":"none"},className:d().MenuItemLabel,children:(0,i.jsx)("div",{style:{padding:"0",margin:"0"},children:(0,i.jsxs)("div",{className:d().MenuItem,children:[(0,i.jsx)(z.Z,{className:d().Icon}),(0,i.jsx)("span",{className:d().nestani,children:"Nazad"})]})})})]}),a&&(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:d().slikaDiv,style:{width:"10vw",height:"10vw",backgroundImage:"url(".concat(a,")"),backgroundPosition:"center",backgroundSize:"cover"}})})]})}var L=s(8858),D=s(6650);function O(){let[e,a]=(0,u.useState)([]),s=(0,g.hJ)(L.db,"users");return(0,u.useEffect)(()=>{let e=async()=>{let e=await (0,g.PL)(s);a(e.docs.map(e=>({...e.data(),id:e.id})))};e()},[]),(0,i.jsxs)("div",{className:d().divOglasi,children:[(0,i.jsx)("br",{}),e.map(e=>(0,i.jsxs)("div",{className:d().osoba,children:[(0,i.jsxs)("div",{className:d().ime,children:[(0,i.jsx)("h1",{className:d().h1,children:"Ime:"}),(0,i.jsx)("h1",{className:d().h1,children:e.ime})]}),(0,i.jsxs)("div",{className:d().prezime,children:[(0,i.jsx)("h1",{className:d().h1,children:"Prezime:"}),(0,i.jsx)("h1",{className:d().h1,children:e.prezime})]}),(0,i.jsxs)("div",{className:d().email,children:[(0,i.jsx)("h1",{className:d().h1,children:"Email:"}),(0,i.jsx)("h1",{className:d().h1,children:e.email})]}),(0,i.jsxs)("div",{className:d().username,children:[(0,i.jsx)("h1",{className:d().h1,children:"Username:"}),(0,i.jsx)("h1",{className:d().h1,children:e.username})]})]}))]})}var P=s(8945);function E(){let[e,a]=(0,u.useState)([]),[s,n]=(0,u.useState)(""),t=(0,g.hJ)(L.db,"postovi");(0,u.useEffect)(()=>{(0,g.cf)(t,e=>{a(e.docs.map(e=>({...e.data(),id:e.id})))});let e=async()=>{await (0,g.PL)(t)};e()},[]);let c=async(e,a)=>{let s=(0,g.JU)(L.db,"postovi",e);await (0,g.oe)(s);let i=(0,D.iH)(L.tO,"Postovi/"+a.split("%2F")[1].split("?")[0]);(0,D.oq)(i).then(()=>{console.log("slika uspesno obrisana")}).catch(e=>console.log(e))};return(0,i.jsxs)("div",{className:d().divOglasi,children:[(0,i.jsx)("br",{}),e.map(e=>((0,g.QT)(e.vlasnik).then(e=>{if(e.exists()){let a=e.data();n(a.username)}}).catch(e=>console.log(e)),(0,i.jsxs)("div",{className:d().oglas,children:[(0,i.jsx)("div",{className:d().slika,children:(0,i.jsx)("div",{style:{width:"4vw",height:"4vw",backgroundImage:"url(".concat(e.slika,")"),backgroundPosition:"center",backgroundSize:"cover",borderRadius:"50%"}})}),(0,i.jsxs)("div",{className:d().opis,children:[(0,i.jsx)("h1",{className:d().h1,children:"Opis:"}),(0,i.jsx)("h1",{className:d().h1,children:e.opis})]}),(0,i.jsx)(P.Z,{className:d().icon,onClick:()=>{c(e.id,e.slika)}})]})))]})}function K(){let[e,a]=(0,u.useState)(!1),[s,n]=(0,u.useState)(!1),[t,c]=(0,u.useState)(!0),[l,d]=(0,u.useState)("");return(()=>{let e=L.I8.currentUser;if(e){let a=(0,g.JU)(L.db,"users",e.uid),s=(0,D.iH)(L.tO,"slikeKorisnika/".concat(e.uid));(0,D.Jt)(s).then(e=>{d(e)}).catch(()=>{console.log("ovde")}),(0,g.QT)(a).then(e=>{e.exists()?e.data():d("https://th.bing.com/th/id/OIP.cQL9pRlXh-HNIeU4NzYPmAHaHa?pid=ImgDet&rs=1")}).catch(e=>console.log(e))}})(),(0,i.jsxs)("div",{className:"adminIndex",children:[(0,i.jsx)(y,{slikaKorisnika:l,setKorisnici:a,setOglasi:n,setGrafike:c}),t&&(0,i.jsx)(w,{})||e&&(0,i.jsx)(O,{})||s&&(0,i.jsx)(E,{})]})}},1671:function(e){e.exports={adminovaKartica:"admin_adminovaKartica__oSIjh",grafikoni:"admin_grafikoni__eGCOq",slikaDiv:"admin_slikaDiv__DcUez",pita:"admin_pita__DF7Ip",opis:"admin_opis__LIdXh",vlasnik:"admin_vlasnik__wEc9E",oglas:"admin_oglas__4fMci",divOglasi:"admin_divOglasi__cXnOn",icon:"admin_icon___wnHZ",Icon:"admin_Icon__GIPn7",nestani:"admin_nestani__mXJxM",Menu:"admin_Menu__tL9E3",MenuItem:"admin_MenuItem__1fNLF",MenuItemLabel:"admin_MenuItemLabel__Ajx1I",osoba:"admin_osoba__Qb8zo",slika:"admin_slika__8VGUY",h1:"admin_h1__PcbZK",ime:"admin_ime__oVKJl",prezime:"admin_prezime__hwaSG",email:"admin_email__hu_QQ",username:"admin_username__ywFId"}}},function(e){e.O(0,[16,551,196,223,887,587,774,888,179],function(){return e(e.s=2404)}),_N_E=e.O()}]);